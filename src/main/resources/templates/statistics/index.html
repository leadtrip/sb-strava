<div th:fragment="content">
    <select class="form-select" id="reportTypeSelect" aria-label="Select report">
        <option selected disabled>Select a report</option>
        <option value="load">Load</option>
        <option value="distance">Distance</option>
    </select>

    <div style="margin-top: 10px;">
        <div id="chartContainer" style="height: 800px; overflow-y: hidden;">
            <canvas id="chartCanvas" class="mt-4" style="width: 100%"></canvas>
        </div>
    </div>

    <script>
        document.getElementById('reportTypeSelect').addEventListener('change', function () {
            const reportType = this.value;
            fetch(`/statistics/data/${reportType}`)
                .then(res => res.json())
                .then(({ labels, values }) => renderChart(reportType, labels, values))
                .catch(err => console.error('Chart load failed:', err));
        });
    </script>
</div>